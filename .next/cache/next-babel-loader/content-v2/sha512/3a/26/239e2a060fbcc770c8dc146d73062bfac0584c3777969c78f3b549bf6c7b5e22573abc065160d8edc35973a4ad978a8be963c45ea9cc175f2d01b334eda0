{"ast":null,"code":"const stripe = require('stripe')('sk_test_51J305OC6YuwVjGqqdtMScisG2JWYy339dNtTGf7QE44BdrPbWPqeMKd5WF1nfpnKYhAmbh8GGQbiaolofct52IgZ003WkhWzMr');\n\nexport default async function handler(req, res) {\n  const adr = req.body.address;\n  console.log(\"\\u001b[1;32m [Create-verification-session] \\u001b[0m \", req.body);\n  console.log(\"\\u001b[1;32m [Create-verification-session] \\u001b[0m \", adr);\n  const verificationSession = await stripe.identity.verificationSessions.create({\n    type: 'document',\n    metadata: {\n      passedDatabaseCheck: null\n    }\n  }); // Return only the client secret and id to the frontend.\n\n  const clientSecret = verificationSession.client_secret;\n  const {\n    id\n  } = verificationSession;\n  res.status(200).json({\n    clientSecret,\n    id\n  });\n}","map":{"version":3,"sources":["/Users/neilhacker/Desktop/working_on/ostrom_id_copy_5/pages/api/create-verification-session.js"],"names":["stripe","require","handler","req","res","adr","body","address","console","log","verificationSession","identity","verificationSessions","create","type","metadata","passedDatabaseCheck","clientSecret","client_secret","id","status","json"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkB,6GAAlB,CAAf;;AAEA,eAAe,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAE5C,QAAMC,GAAG,GAAGF,GAAG,CAACG,IAAJ,CAASC,OAArB;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAY,uDAAZ,EAAqEN,GAAG,CAACG,IAAzE;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,uDAAZ,EAAqEJ,GAArE;AAEA,QAAMK,mBAAmB,GAAG,MAAMV,MAAM,CAACW,QAAP,CAAgBC,oBAAhB,CAAqCC,MAArC,CAA4C;AAC1EC,IAAAA,IAAI,EAAE,UADoE;AAE1EC,IAAAA,QAAQ,EAAE;AAACC,MAAAA,mBAAmB,EAAE;AAAtB;AAFgE,GAA5C,CAAlC,CAP4C,CAa1C;;AACA,QAAMC,YAAY,GAAGP,mBAAmB,CAACQ,aAAzC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAST,mBAAf;AACAN,EAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEJ,IAAAA,YAAF;AAAgBE,IAAAA;AAAhB,GAArB;AACL","sourcesContent":["const stripe = require('stripe')('sk_test_51J305OC6YuwVjGqqdtMScisG2JWYy339dNtTGf7QE44BdrPbWPqeMKd5WF1nfpnKYhAmbh8GGQbiaolofct52IgZ003WkhWzMr');\n\nexport default async function handler(req, res) {\n    \n    const adr = req.body.address;\n\n    console.log(\"\\u001b[1;32m [Create-verification-session] \\u001b[0m \", req.body)\n    console.log(\"\\u001b[1;32m [Create-verification-session] \\u001b[0m \", adr)\n\n    const verificationSession = await stripe.identity.verificationSessions.create({\n        type: 'document',\n        metadata: {passedDatabaseCheck: null}\n        \n      });\n      \n      // Return only the client secret and id to the frontend.\n      const clientSecret = verificationSession.client_secret;\n      const { id } = verificationSession;\n      res.status(200).json({ clientSecret, id })\n}"]},"metadata":{},"sourceType":"module"}